# --------------------------------------------------
# Media Bitwarden-backed secrets
# --------------------------------------------------

## ARR suite (Sonarr/Radarr/Lidarr/Readarr)
apiVersion: k8s.bitwarden.com/v1
kind: BitwardenSecret
metadata:
  name: arr-api-keys
  namespace: media
  labels:
    app.kubernetes.io/name: bitwardensecret
    app.kubernetes.io/instance: arr-api-keys
    app.kubernetes.io/part-of: sm-operator
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/created-by: sm-operator
spec:
  organizationId: "${bitwarden_secrets_org_id}"
  secretName: arr-api-keys
  onlyMappedSecrets: true
  map:
    # Arr API keys
    - bwSecretId: "91ecdbba-d7dc-4b9b-8d79-b3840034d1d0"
      secretKeyName: "SONARR_API_KEY"
    - bwSecretId: "c8a5c100-3c5a-4391-a818-b3840034e6f9"
      secretKeyName: "RADARR_API_KEY"
    - bwSecretId: "89e0b939-bef8-43c3-bee8-b3840034f8a4"
      secretKeyName: "LIDARR_API_KEY"
    - bwSecretId: "1f92d688-ab52-45a2-b563-b38400350e3b"
      secretKeyName: "READARR_API_KEY"
  authToken:
    secretName: bw-auth-token
    secretKey: token
